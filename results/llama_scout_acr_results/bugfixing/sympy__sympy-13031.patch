{
  "patch": "diff --git a/sympy/matrices/common.py b/sympy/matrices/common.py\nindex 7ef51bc847..e39549439a 100644\n--- a/sympy/matrices/common.py\n+++ b/sympy/matrices/common.py\n@@ -377,6 +377,8 @@ def hstack(cls, *args):\n         if len(args) == 0:\n             return cls._new()\n \n+        if not all(len(arg) == 0 or arg.rows == args[0].rows for arg in args):\n+           raise ValueError(\"All matrices must have the same number of rows or be empty.\")\n         kls = type(args[0])\n         return reduce(kls.row_join, args)\n \n@@ -600,6 +602,8 @@ def vstack(cls, *args):\n         if len(args) == 0:\n             return cls._new()\n \n+        if not all(len(arg) == 0 or arg.cols == args[0].cols for arg in args):\n+           raise ValueError(\"All matrices must have the same number of columns or be empty.\")\n         kls = type(args[0])\n         return reduce(kls.col_join, args)\n \n"
}