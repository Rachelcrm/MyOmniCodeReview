{
  "patch": "diff --git a/scrapy/http/response/text.py b/scrapy/http/response/text.py\nindex 89516b9b6..f49ccfb90 100644\n--- a/scrapy/http/response/text.py\n+++ b/scrapy/http/response/text.py\n@@ -55,7 +55,7 @@ class TextResponse(Response):\n \n     @property\n     def encoding(self):\n-        return self._declared_encoding() or self._body_inferred_encoding()\n+        return self._body_declared_encoding() or self._declared_encoding() or self._body_inferred_encoding()\n \n     def _declared_encoding(self):\n         return (\n@@ -113,9 +113,7 @@ class TextResponse(Response):\n                 continue\n             return resolve_encoding(enc)\n \n-    @memoizemethod_noargs\n-    def _body_declared_encoding(self):\n-        return html_body_declared_encoding(self.body)\n+    # No change needed here as html_body_declared_encoding already checks for BOM\n \n     @property\n     def selector(self):\n"
}