{
  "patch": "diff --git a/django/db/models/sql/compiler.py b/django/db/models/sql/compiler.py\nindex 7264929da8..b517763897 100644\n--- a/django/db/models/sql/compiler.py\n+++ b/django/db/models/sql/compiler.py\n@@ -693,6 +693,7 @@ class SQLCompiler:\n         # alias for a given field. This also includes None -> start_alias to\n         # be used by local fields.\n         seen_models = {None: start_alias}\n+        seen_aliases = set()\n \n         for field in opts.concrete_fields:\n             model = field.model._meta.concrete_model\n@@ -712,6 +713,9 @@ class SQLCompiler:\n                 continue\n             alias = self.query.join_parent_model(opts, model, start_alias,\n                                                  seen_models)\n+            if alias in seen_aliases:\n+                continue\n+            seen_aliases.add(alias)\n             column = field.get_col(alias)\n             result.append(column)\n         return result\n"
}