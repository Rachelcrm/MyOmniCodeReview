{
  "patch": "diff --git a/django/db/models/query.py b/django/db/models/query.py\nindex be0deb90b0..93ef9f230d 100644\n--- a/django/db/models/query.py\n+++ b/django/db/models/query.py\n@@ -2595,8 +2595,9 @@ class RelatedPopulator:\n                 *[attname_indexes[attname] for attname in self.init_list]\n             )\n \n+        opts = klass_info[\"model\"]._meta.concrete_model._meta\n         self.model_cls = klass_info[\"model\"]\n-        self.pk_idx = self.init_list.index(self.model_cls._meta.pk.attname)\n+        self.pk_idx = self.init_list.index(opts.pk.attname)\n         self.related_populators = get_related_populators(klass_info, select, self.db)\n         self.local_setter = klass_info[\"local_setter\"]\n         self.remote_setter = klass_info[\"remote_setter\"]\n"
}