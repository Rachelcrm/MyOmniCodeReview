{
  "instance_id": "sphinx-doc__sphinx-8621",
  "model": "openrouter/meta-llama/llama-4-scout",
  "response": "<file>tests/test_roles.py</file>\n<original>\n# Empty if creating new file\n</original>\n<patched>\nimport pytest\nfrom sphinx.testing import TestApp\nfrom sphinx import roles\n\n@pytest.fixture\ndef app():\n    return TestApp()\n\ndef test_kbd_role(app):\n    \"\"\"Test the :kbd: role with simple keystrokes.\"\"\"\n    app.add_source('.. kbd:: Shift', 'test')\n    app.build()\n    assert app.get_artifact('test.html') is not None\n\ndef test_kbd_role_compound_keystroke(app):\n    \"\"\"Test the :kbd: role with compound keystrokes.\"\"\"\n    app.add_source('.. kbd:: Shift-+', 'test')\n    app.build()\n    assert app.get_artifact('test.html') is not None\n\ndef test_kbd_role_standalone_keystroke(app):\n    \"\"\"Test the :kbd: role with standalone keystrokes.\"\"\"\n    app.add_source('.. kbd:: -', 'test')\n    app.build()\n    assert app.get_artifact('test.html') is not None\n\ndef test_kbd_role_invalid_input(app):\n    \"\"\"Test the :kbd: role with invalid input.\"\"\"\n    app.add_source('.. kbd::', 'test')\n    with pytest.raises(roles.RoleError):\n        app.build()\n\ndef test_kbd_role_empty_input(app):\n    \"\"\"Test the :kbd: role with empty input.\"\"\"\n    app.add_source('.. kbd::', 'test')\n    with pytest.raises(roles.RoleError):\n        app.build()\n</patched>\n```",
  "patch": "--- a/tests/test_roles.py\n+++ b/tests/test_roles.py\n-# Empty if creating new file\n+import pytest\n+from sphinx.testing import TestApp\n+from sphinx import roles\n+\n+@pytest.fixture\n+def app():\n+    return TestApp()\n+\n+def test_kbd_role(app):\n+    \"\"\"Test the :kbd: role with simple keystrokes.\"\"\"\n+    app.add_source('.. kbd:: Shift', 'test')\n+    app.build()\n+    assert app.get_artifact('test.html') is not None\n+\n+def test_kbd_role_compound_keystroke(app):\n+    \"\"\"Test the :kbd: role with compound keystrokes.\"\"\"\n+    app.add_source('.. kbd:: Shift-+', 'test')\n+    app.build()\n+    assert app.get_artifact('test.html') is not None\n+\n+def test_kbd_role_standalone_keystroke(app):\n+    \"\"\"Test the :kbd: role with standalone keystrokes.\"\"\"\n+    app.add_source('.. kbd:: -', 'test')\n+    app.build()\n+    assert app.get_artifact('test.html') is not None\n+\n+def test_kbd_role_invalid_input(app):\n+    \"\"\"Test the :kbd: role with invalid input.\"\"\"\n+    app.add_source('.. kbd::', 'test')\n+    with pytest.raises(roles.RoleError):\n+        app.build()\n+\n+def test_kbd_role_empty_input(app):\n+    \"\"\"Test the :kbd: role with empty input.\"\"\"\n+    app.add_source('.. kbd::', 'test')\n+    with pytest.raises(roles.RoleError):\n+        app.build()\n"
}