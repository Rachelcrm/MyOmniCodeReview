{
  "instance_id": "ytdl-org__youtube-dl-32741",
  "model": "openrouter/meta-llama/llama-4-scout",
  "response": "<file>tests/test_downloader.py</file>\n<original>\n# Original code here\n</original>\n<patched>\nimport pytest\nfrom youtube_dl/YoutubeDL import YoutubeDL\nfrom youtube_dl.postprocessor.ffmpeg import FFmpegPostProcessor\n\ndef test_ffmpeg_location():\n    ydl = YoutubeDL()\n    ydl.params['external_downloader'] = 'ffmpeg'\n    ydl.params['ffmpeg_location'] = '/path/to/ffmpeg'\n    ydl.download(['https://www.youtube.com/watch?v=dQw4w9WgXcQ')\n\n    assert isinstance(FFmpegPostProcessor(ydl).executable, str)\n    assert ydl.params['ffmpeg_location'] in FFmpegPostProcessor(ydl).executable\n</patched>\n\n<file>tests/test_options.py</file>\n<original>\n# Original code here\n</original>\n<patched>\nimport pytest\nfrom youtube_dl.options import parseOpts\n\ndef test_ffmpeg_location_option():\n    options = parseOpts([ '--ffmpeg-location', '/path/to/ffmpeg' ])\n    assert options['ffmpeg_location'] == '/path/to/ffmpeg'\n</patched>\n```",
  "patch": "--- a/tests/test_downloader.py\n+++ b/tests/test_downloader.py\n-# Original code here\n+import pytest\n+from youtube_dl/YoutubeDL import YoutubeDL\n+from youtube_dl.postprocessor.ffmpeg import FFmpegPostProcessor\n+\n+def test_ffmpeg_location():\n+    ydl = YoutubeDL()\n+    ydl.params['external_downloader'] = 'ffmpeg'\n+    ydl.params['ffmpeg_location'] = '/path/to/ffmpeg'\n+    ydl.download(['https://www.youtube.com/watch?v=dQw4w9WgXcQ')\n+\n+    assert isinstance(FFmpegPostProcessor(ydl).executable, str)\n+    assert ydl.params['ffmpeg_location'] in FFmpegPostProcessor(ydl).executable\n\n--- a/tests/test_options.py\n+++ b/tests/test_options.py\n-# Original code here\n+import pytest\n+from youtube_dl.options import parseOpts\n+\n+def test_ffmpeg_location_option():\n+    options = parseOpts([ '--ffmpeg-location', '/path/to/ffmpeg' ])\n+    assert options['ffmpeg_location'] == '/path/to/ffmpeg'\n"
}