{
  "instance_id": "scrapy__scrapy-6013",
  "model": "openrouter/meta-llama/llama-4-scout",
  "response": "<file>tests/test_settings.py</file>\n<original>\n# Original code here (if modifying existing file)\n</original>\n<patched>\nimport pytest\nfrom scrapy.settings import BaseSettings\n\ndef test_getdictorlist_tuple():\n    settings = BaseSettings()\n    settings.set(\"FEED_EXPORT_FIELDS\", (\"field1\", \"field2\"))\n    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == [\"field1\", \"field2\"]\n\ndef test_getdictorlist_dict():\n    settings = BaseSettings()\n    settings.set(\"FEED_EXPORT_FIELDS\", {\"field1\": \"value1\", \"field2\": \"value2\"})\n    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == {\"field1\": \"value1\", \"field2\": \"value2\"}\n\ndef test_getdictorlist_list():\n    settings = BaseSettings()\n    settings.set(\"FEED_EXPORT_FIELDS\", [\"field1\", \"field2\"])\n    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == [\"field1\", \"field2\"]\n\ndef test_getdictorlist_string_json():\n    settings = BaseSettings()\n    settings.set(\"FEED_EXPORT_FIELDS\", '[\"field1\", \"field2\"]')\n    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == [\"field1\", \"field2\"]\n\ndef test_getdictorlist_string_comma_separated():\n    settings = BaseSettings()\n    settings.set(\"FEED_EXPORT_FIELDS\", \"field1,field2\")\n    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == [\"field1\", \"field2\"]\n\ndef test_getdictorlist_default():\n    settings = BaseSettings()\n    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == {}\n\ndef test_getdictorlist_none():\n    settings = BaseSettings()\n    settings.set(\"FEED_EXPORT_FIELDS\", None)\n    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == {}\n</patched>\n```",
  "patch": "--- a/tests/test_settings.py\n+++ b/tests/test_settings.py\n-# Original code here (if modifying existing file)\n+import pytest\n+from scrapy.settings import BaseSettings\n+\n+def test_getdictorlist_tuple():\n+    settings = BaseSettings()\n+    settings.set(\"FEED_EXPORT_FIELDS\", (\"field1\", \"field2\"))\n+    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == [\"field1\", \"field2\"]\n+\n+def test_getdictorlist_dict():\n+    settings = BaseSettings()\n+    settings.set(\"FEED_EXPORT_FIELDS\", {\"field1\": \"value1\", \"field2\": \"value2\"})\n+    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == {\"field1\": \"value1\", \"field2\": \"value2\"}\n+\n+def test_getdictorlist_list():\n+    settings = BaseSettings()\n+    settings.set(\"FEED_EXPORT_FIELDS\", [\"field1\", \"field2\"])\n+    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == [\"field1\", \"field2\"]\n+\n+def test_getdictorlist_string_json():\n+    settings = BaseSettings()\n+    settings.set(\"FEED_EXPORT_FIELDS\", '[\"field1\", \"field2\"]')\n+    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == [\"field1\", \"field2\"]\n+\n+def test_getdictorlist_string_comma_separated():\n+    settings = BaseSettings()\n+    settings.set(\"FEED_EXPORT_FIELDS\", \"field1,field2\")\n+    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == [\"field1\", \"field2\"]\n+\n+def test_getdictorlist_default():\n+    settings = BaseSettings()\n+    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == {}\n+\n+def test_getdictorlist_none():\n+    settings = BaseSettings()\n+    settings.set(\"FEED_EXPORT_FIELDS\", None)\n+    assert settings.getdictorlist(\"FEED_EXPORT_FIELDS\") == {}\n"
}