{
  "instance_id": "django__django-16429",
  "model": "openrouter/meta-llama/llama-4-scout",
  "response": "<file>tests/test_utils_timesince.py</file>\n<original>\n</original>\n<patched>\nimport pytest\nfrom django.test import override_settings\nfrom django.utils import timezone\nfrom django.utils.timesince import timesince\nfrom datetime import datetime, timedelta\n\n@pytest.mark.django_db\n@override_settings(USE_TZ=True)\ndef test_timesince_long_interval_with_tz():\n    now = timezone.now()\n    d = now - timedelta(days=31)\n    assert timesince(d) == \"1\\xa0month\"\n\n@override_settings(USE_TZ=False)\ndef test_timesince_long_interval_without_tz():\n    now = timezone.now()\n    d = now - timedelta(days=31)\n    assert timesince(d) == \"1\\xa0month\"\n\ndef test_timesince_equal_datetimes():\n    now = timezone.now()\n    assert timesince(now, now) == \"0 minutes\"\n\ndef test_timesince_future_datetime():\n    now = timezone.now()\n    future_datetime = now + timedelta(minutes=10)\n    assert timesince(future_datetime, now) == \"0 minutes\"\n</patched>\n```",
  "patch": "--- a/tests/test_utils_timesince.py\n+++ b/tests/test_utils_timesince.py\n+import pytest\n+from django.test import override_settings\n+from django.utils import timezone\n+from django.utils.timesince import timesince\n+from datetime import datetime, timedelta\n+\n+@pytest.mark.django_db\n+@override_settings(USE_TZ=True)\n+def test_timesince_long_interval_with_tz():\n+    now = timezone.now()\n+    d = now - timedelta(days=31)\n+    assert timesince(d) == \"1\\xa0month\"\n+\n+@override_settings(USE_TZ=False)\n+def test_timesince_long_interval_without_tz():\n+    now = timezone.now()\n+    d = now - timedelta(days=31)\n+    assert timesince(d) == \"1\\xa0month\"\n+\n+def test_timesince_equal_datetimes():\n+    now = timezone.now()\n+    assert timesince(now, now) == \"0 minutes\"\n+\n+def test_timesince_future_datetime():\n+    now = timezone.now()\n+    future_datetime = now + timedelta(minutes=10)\n+    assert timesince(future_datetime, now) == \"0 minutes\"\n"
}