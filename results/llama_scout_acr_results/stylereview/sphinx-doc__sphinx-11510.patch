{
  "patch": "diff --git a/sphinx/directives/other.py b/sphinx/directives/other.py\nindex 19f7c0a8d..9112c6eea 100644\n--- a/sphinx/directives/other.py\n+++ b/sphinx/directives/other.py\n@@ -81,7 +81,10 @@ class TocTree(SphinxDirective):\n         return ret\n \n     def parse_content(self, toctree: addnodes.toctree) -> list[Node]:\n-        generated_docnames = frozenset(StandardDomain._virtual_doc_names)\n+        if hasattr(StandardDomain, 'get_virtual_doc_names'):\n+            generated_docnames = frozenset(StandardDomain.get_virtual_doc_names())\n+        else:\n+            generated_docnames = frozenset(StandardDomain._virtual_doc_names)\n         suffixes = self.config.source_suffix\n         current_docname = self.env.docname\n         glob = toctree['glob']\n@@ -379,7 +382,8 @@ class Include(BaseInclude, SphinxDirective):\n         return super().run()\n \n \n-def setup(app: Sphinx) -> dict[str, Any]:\n+def setup() -> dict[str, Any]:\n+    # Adjust the function body to not use 'app' or remove 'app' from the parameters\n     directives.register_directive('toctree', TocTree)\n     directives.register_directive('sectionauthor', Author)\n     directives.register_directive('moduleauthor', Author)\n"
}