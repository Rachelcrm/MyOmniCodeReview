{
  "patch": "diff --git a/django/forms/models.py b/django/forms/models.py\nindex 192d9fad94..a876b13da9 100644\n--- a/django/forms/models.py\n+++ b/django/forms/models.py\n@@ -336,7 +336,15 @@ class ModelFormMetaclass(DeclarativeFieldsMetaclass):\n         return new_class\n \n \n-class BaseModelForm(BaseForm):\n+class BaseModelFormMeta(type):\n+    def __init__(cls, name, bases, namespace):\n+        super().__init__(name, bases, namespace)\n+        if 'model' in namespace:\n+            model = namespace['model']\n+            if model is not None:\n+                namespace['_meta'] = model._meta\n+\n+class BaseModelForm(BaseForm, metaclass=BaseModelFormMeta):\n     def __init__(\n         self,\n         data=None,\n@@ -351,8 +359,10 @@ class BaseModelForm(BaseForm):\n         use_required_attribute=None,\n         renderer=None,\n     ):\n+        if not hasattr(self, '_meta'):\n+            raise ValueError(\"ModelForm has no model class specified.\")\n         opts = self._meta\n-        if opts.model is None:\n+        if opts is None:\n             raise ValueError(\"ModelForm has no model class specified.\")\n         if instance is None:\n             # if we didn't get an instance, instantiate a new one\n"
}