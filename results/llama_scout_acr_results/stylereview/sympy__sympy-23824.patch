{
  "patch": "diff --git a/sympy/physics/hep/gamma_matrices.py b/sympy/physics/hep/gamma_matrices.py\nindex 23284e4a92..b65599d28a 100644\n--- a/sympy/physics/hep/gamma_matrices.py\n+++ b/sympy/physics/hep/gamma_matrices.py\n@@ -96,6 +96,7 @@ def simplify_gpgp(ex, sort=True):\n     GammaMatrix(-L_0)*p(L_0)*q(L_1)*q(-L_1)\n     \"\"\"\n     def _simplify_gpgp(ex):\n+        mu = None\n         components = ex.components\n         a = []\n         comp_map = []\n@@ -135,7 +136,7 @@ def _simplify_gpgp(ex):\n                 elim.add(ai[1])\n                 elim.add(a[i + 1][0])\n                 elim.add(a[i + 1][1])\n-                if not ta:\n+                if ta is None:\n                     ta = ex.split()\n                     mu = TensorIndex('mu', LorentzIndex)\n                 hit = True\n@@ -284,7 +285,7 @@ def _trace_single_line1(t):\n                 aa = a[:i] + a[i + 1:k] + a[k + 1:]\n                 t2 = sign*tensor_mul(*aa)*g(ind1, ind2)\n                 t2 = t2.contract_metric(g)\n-                t2 = simplify_gpgp(t2, False)\n+                t2 = simplify_gpgp(t2)\n                 args.append(t2)\n             t3 = TensAdd(*args)\n             t3 = _trace_single_line(t3)\n"
}