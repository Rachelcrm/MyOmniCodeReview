{
  "patch": "diff --git a/django/apps/registry.py b/django/apps/registry.py\nindex 0683f3ad3c..c9d7165458 100644\n--- a/django/apps/registry.py\n+++ b/django/apps/registry.py\n@@ -134,7 +134,6 @@ class Apps:\n             # If \"not ready\" is due to unconfigured settings, accessing\n             # INSTALLED_APPS raises a more helpful ImproperlyConfigured\n             # exception.\n-            settings.INSTALLED_APPS\n             raise AppRegistryNotReady(\"Apps aren't loaded yet.\")\n \n     def check_models_ready(self):\n@@ -165,7 +164,7 @@ class Apps:\n             raise LookupError(message)\n \n     # This method is performance-critical at least for Django's test suite.\n-    @functools.cache\n+    @functools.lru_cache(maxsize=None)\n     def get_models(self, include_auto_created=False, include_swapped=False):\n         \"\"\"\n         Return a list of all installed models.\n@@ -280,7 +279,7 @@ class Apps:\n             raise LookupError(\"Model '%s.%s' not registered.\" % (app_label, model_name))\n         return model\n \n-    @functools.cache\n+    @functools.lru_cache(maxsize=None)\n     def get_swappable_settings_name(self, to_string):\n         \"\"\"\n         For a given model string (e.g. \"auth.User\"), return the name of the\n"
}