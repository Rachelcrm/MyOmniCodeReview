{
  "patch": "diff --git a/scrapy/commands/genspider.py b/scrapy/commands/genspider.py\nindex c1565a138..35d7e6cce 100644\n--- a/scrapy/commands/genspider.py\n+++ b/scrapy/commands/genspider.py\n@@ -91,6 +91,7 @@ class Command(ScrapyCommand):\n             raise UsageError()\n \n         name, url = args[0:2]\n+        url = add_http_if_no_scheme(url)\n         domain = extract_domain(url)\n         module = sanitize_module_name(name)\n \n@@ -103,11 +104,11 @@ class Command(ScrapyCommand):\n \n         template_file = self._find_template(opts.template)\n         if template_file:\n-            self._genspider(module, name, domain, opts.template, template_file)\n+            self._genspider(module, name, domain, opts.template, template_file, url)\n             if opts.edit:\n                 self.exitcode = os.system(f'scrapy edit \"{name}\"')\n \n-    def _genspider(self, module, name, domain, template_name, template_file):\n+    def _genspider(self, module, name, domain, template_name, template_file, url):\n         \"\"\"Generate the spider module, based on the given template\"\"\"\n         capitalized_module = \"\".join(s.capitalize() for s in module.split(\"_\"))\n         tvars = {\n@@ -116,6 +117,7 @@ class Command(ScrapyCommand):\n             \"module\": module,\n             \"name\": name,\n             \"domain\": domain,\n+            \"url\": url,\n             \"classname\": f\"{capitalized_module}Spider\",\n         }\n         if self.settings.get(\"NEWSPIDER_MODULE\"):\n"
}