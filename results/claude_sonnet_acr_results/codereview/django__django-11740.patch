{
  "patch": "diff --git a/django/db/migrations/autodetector.py b/django/db/migrations/autodetector.py\nindex 0dc1c77c53..f06e868e11 100644\n--- a/django/db/migrations/autodetector.py\n+++ b/django/db/migrations/autodetector.py\n@@ -963,6 +963,15 @@ class MigrationAutodetector:\n                             preserve_default = False\n                     else:\n                         field = new_field\n+                    # Check if the field is becoming a relation field and add dependencies\n+                    dependencies = []\n+                    old_is_relation = hasattr(old_field, \"remote_field\") and old_field.remote_field\n+                    new_is_relation = hasattr(new_field, \"remote_field\") and new_field.remote_field and new_field.remote_field.model\n+                    \n+                    if not old_is_relation and new_is_relation:\n+                        # Field is becoming a relation field, add dependencies\n+                        dependencies.extend(self._get_dependencies_for_foreign_key(new_field))\n+                    \n                     self.add_operation(\n                         app_label,\n                         operations.AlterField(\n@@ -970,7 +979,8 @@ class MigrationAutodetector:\n                             name=field_name,\n                             field=field,\n                             preserve_default=preserve_default,\n-                        )\n+                        ),\n+                        dependencies=dependencies,\n                     )\n                 else:\n                     # We cannot alter between m2m and concrete fields\n"
}