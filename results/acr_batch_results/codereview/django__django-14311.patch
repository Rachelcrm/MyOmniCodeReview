{
  "patch": "diff --git a/django/core/management/__init__.py b/django/core/management/__init__.py\nindex 4e30a28f33..f689fd518a 100644\n--- a/django/core/management/__init__.py\n+++ b/django/core/management/__init__.py\n@@ -188,7 +188,9 @@ class ManagementUtility:\n     def __init__(self, argv=None):\n         self.argv = argv or sys.argv[:]\n         self.prog_name = os.path.basename(self.argv[0])\n-        if self.prog_name == '__main__.py':\n+        if self.prog_name == '__main__.py' or self.argv[0].endswith('__main__.py'):\n+            self.prog_name = ' '.join(self.argv[:2]).replace('-m ', '-m')\n+        elif self.argv[0].startswith('python -m'):\n             self.prog_name = 'python -m django'\n         self.settings_exception = None\n \n"
}