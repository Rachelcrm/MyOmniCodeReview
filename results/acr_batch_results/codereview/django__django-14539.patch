{
  "patch": "diff --git a/django/utils/html.py b/django/utils/html.py\nindex 3bc02b8dd3..ade10c0ff0 100644\n--- a/django/utils/html.py\n+++ b/django/utils/html.py\n@@ -333,9 +333,11 @@ def urlize(text, trim_url_limit=None, nofollow=False, autoescape=False):\n             if url:\n                 trimmed = trim_url(middle)\n                 if autoescape and not safe_input:\n-                    lead, trail = escape(lead), escape(trail)\n+                    lead = escape(lead)\n+                    trail = escape(trail)\n                     trimmed = escape(trimmed)\n-                middle = '<a href=\"%s\"%s>%s</a>' % (escape(url), nofollow_attr, trimmed)\n+                    url = escape(url)\n+                middle = '<a href=\"%s\"%s>%s</a>' % (url, nofollow_attr, trimmed)\n                 words[i] = mark_safe('%s%s%s' % (lead, middle, trail))\n             else:\n                 if safe_input:\n"
}