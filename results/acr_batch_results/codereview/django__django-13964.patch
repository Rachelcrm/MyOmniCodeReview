{
  "patch": "diff --git a/django/db/models/fields/related_descriptors.py b/django/db/models/fields/related_descriptors.py\nindex 872a4c98dc..8c501e3b90 100644\n--- a/django/db/models/fields/related_descriptors.py\n+++ b/django/db/models/fields/related_descriptors.py\n@@ -74,9 +74,18 @@ from django.utils.functional import cached_property\n \n class ForeignKeyDeferredAttribute(DeferredAttribute):\n     def __set__(self, instance, value):\n-        if instance.__dict__.get(self.field.attname) != value and self.field.is_cached(instance):\n-            self.field.delete_cached_value(instance)\n-        instance.__dict__[self.field.attname] = value\n+        if value is None:\n+            if instance.__dict__.get(self.field.attname) is not None and self.field.is_cached(instance):\n+                self.field.delete_cached_value(instance)\n+            instance.__dict__[self.field.attname] = None\n+        elif isinstance(value, Model) and value.pk is not None:\n+            if instance.__dict__.get(self.field.attname) != value.pk and self.field.is_cached(instance):\n+                self.field.delete_cached_value(instance)\n+            instance.__dict__[self.field.attname] = value.pk\n+        else:\n+            if instance.__dict__.get(self.field.attname) != value and self.field.is_cached(instance):\n+                self.field.delete_cached_value(instance)\n+            instance.__dict__[self.field.attname] = value\n \n \n class ForwardManyToOneDescriptor:\n"
}