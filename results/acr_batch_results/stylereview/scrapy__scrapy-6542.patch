{
  "patch": "diff --git a/scrapy/contracts/__init__.py b/scrapy/contracts/__init__.py\nindex 9071395e3..fe4cc70c7 100644\n--- a/scrapy/contracts/__init__.py\n+++ b/scrapy/contracts/__init__.py\n@@ -41,6 +41,7 @@ class Contract:\n             def wrapper(  # pylint: disable=inconsistent-return-statements\n                 response: Response, **cb_kwargs: Any\n             ) -> list[Any]:\n+                cb_result = None\n                 try:\n                     results.startTest(self.testcase_pre)\n                     self.pre_process(response)\n@@ -52,12 +53,11 @@ class Contract:\n                 else:\n                     results.addSuccess(self.testcase_pre)\n                 finally:\n-                    cb_result = cb(response, **cb_kwargs)\n-                    if isinstance(cb_result, (AsyncGenerator, CoroutineType)):\n-                        raise TypeError(\"Contracts don't support async callbacks\")\n-                    return list(  # pylint: disable=return-in-finally\n-                        cast(Iterable[Any], iterate_spider_output(cb_result))\n-                    )\n+                    if cb_result is None:\n+                        cb_result = cb(response, **cb_kwargs)\n+                        if isinstance(cb_result, (AsyncGenerator, CoroutineType)):\n+                            raise TypeError(\"Contracts don't support async callbacks\")\n+                return list(cast(Iterable[Any], iterate_spider_output(cb_result)))\n \n             request.callback = wrapper\n \n"
}