{
  "patch": "diff --git a/django/db/models/sql/compiler.py b/django/db/models/sql/compiler.py\nindex f02199d97c..9cf92afa90 100644\n--- a/django/db/models/sql/compiler.py\n+++ b/django/db/models/sql/compiler.py\n@@ -852,7 +852,7 @@ class SQLCompiler:\n             fields_found.add(f.name)\n \n             if restricted:\n-                next = requested.get(f.name, {})\n+                next_requested = requested.get(f.name, {})\n                 if not f.is_relation:\n                     # If a non-related field is used like a relation,\n                     # or if a single non-relational field is given.\n"
}