{
  "instance_id": "django__django-11099",
  "model": "openrouter/meta-llama/llama-4-scout",
  "response": "```\n<file>tests/test_validators.py</file>\n<original>\n# Original code here (if modifying existing file)\n</original>\n<patched>\nimport pytest\nfrom django.core.exceptions import ValidationError\nfrom django.contrib.auth.validators import ASCIIUsernameValidator, UnicodeUsernameValidator\n\ndef test_ascii_username_validator_trailing_newline():\n    validator = ASCIIUsernameValidator()\n    with pytest.raises(ValidationError):\n        validator('test_username\\n')\n\ndef test_unicode_username_validator_trailing_newline():\n    validator = UnicodeUsernameValidator()\n    with pytest.raises(ValidationError):\n        validator('test_username\\n')\n\ndef test_ascii_username_validator_valid():\n    validator = ASCIIUsernameValidator()\n    validator('test_username')\n\ndef test_unicode_username_validator_valid():\n    validator = UnicodeUsernameValidator()\n    validator('test_username')\n\ndef test_ascii_username_validator_edge_cases():\n    validator = ASCIIUsernameValidator()\n    validator('a')\n    validator('abcdefghijklmnopqrstuvwxyz')\n    validator('ABCDEFGHIJKLMNOPQRSTUVWXYZ')\n    validator('0123456789')\n    validator('@._+-')\n\ndef test_unicode_username_validator_edge_cases():\n    validator = UnicodeUsernameValidator()\n    validator('a')\n    validator('abcdefghijklmnopqrstuvwxyz')\n    validator('ABCDEFGHIJKLMNOPQRSTUVWXYZ')\n    validator('0123456789')\n    validator('@._+-')\n    validator('\u20ac')\n\n</patched>\n```",
  "patch": "--- a/tests/test_validators.py\n+++ b/tests/test_validators.py\n-# Original code here (if modifying existing file)\n+import pytest\n+from django.core.exceptions import ValidationError\n+from django.contrib.auth.validators import ASCIIUsernameValidator, UnicodeUsernameValidator\n+\n+def test_ascii_username_validator_trailing_newline():\n+    validator = ASCIIUsernameValidator()\n+    with pytest.raises(ValidationError):\n+        validator('test_username\\n')\n+\n+def test_unicode_username_validator_trailing_newline():\n+    validator = UnicodeUsernameValidator()\n+    with pytest.raises(ValidationError):\n+        validator('test_username\\n')\n+\n+def test_ascii_username_validator_valid():\n+    validator = ASCIIUsernameValidator()\n+    validator('test_username')\n+\n+def test_unicode_username_validator_valid():\n+    validator = UnicodeUsernameValidator()\n+    validator('test_username')\n+\n+def test_ascii_username_validator_edge_cases():\n+    validator = ASCIIUsernameValidator()\n+    validator('a')\n+    validator('abcdefghijklmnopqrstuvwxyz')\n+    validator('ABCDEFGHIJKLMNOPQRSTUVWXYZ')\n+    validator('0123456789')\n+    validator('@._+-')\n+\n+def test_unicode_username_validator_edge_cases():\n+    validator = UnicodeUsernameValidator()\n+    validator('a')\n+    validator('abcdefghijklmnopqrstuvwxyz')\n+    validator('ABCDEFGHIJKLMNOPQRSTUVWXYZ')\n+    validator('0123456789')\n+    validator('@._+-')\n+    validator('\u20ac')\n"
}